FROM node:20.11.1-alpine AS build
WORKDIR /project
RUN apk update && apk add git
RUN git clone https://github.com/LexaProInvoke/doodlestudent.git
WORKDIR /project/doodlestudent/front
RUN npm install
RUN npm run build

FROM nginx:1.25.4-alpine
COPY nginx.conf /etc/nginx/nginx.conf
COPY --from=build /project/doodlestudent/front/dist/tlcfront /usr/share/nginx/html
